import{t,a as e,e as n,b as r,i,h as a,c as o,f as s,g as l,s as c,m as u,j as f,p as h,k as d,n as p,o as g,q as y,r as m,u as v,w as x,x as $,S as w,y as b,z as _,A,C as k,D as M,E as O,F as S,G as E,H as j,I as T,J as H,K as C,L as D,M as P,N as W,O as F,P as L,Q as z,R,T as I,U as B,V as U,W as N,X as V,Y as K,Z as q,_ as J,$ as Y,d as X,a0 as G,a1 as Z}from"../index.c79f037b.js";var Q=Array.prototype.slice;function tt(t){return()=>t}function et(t){return Math.ceil(Math.log(function(t,e){let n=0;if(void 0===e)for(let r of t)null!=r&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}(t))/Math.LN2)+1}function nt(){var a=i,o=n,s=et;function l(i){Array.isArray(i)||(i=Array.from(i));var l,c,u=i.length,f=new Array(u);for(l=0;l<u;++l)f[l]=a(i[l],l,i);var h=o(f),d=h[0],p=h[1],g=s(f,d,p);if(!Array.isArray(g)){const r=p,i=+g;if(o===n&&([d,p]=function(e,n,r){let i;for(;;){const a=t(e,n,r);if(a===i||0===a||!isFinite(a))return[e,n];a>0?(e=Math.floor(e/a)*a,n=Math.ceil(n/a)*a):a<0&&(e=Math.ceil(e*a)/a,n=Math.floor(n*a)/a),i=a}}(d,p,i)),(g=e(d,p,i))[g.length-1]>=p)if(r>=p&&o===n){const e=t(d,p,i);isFinite(e)&&(e>0?p=(Math.floor(p/e)+1)*e:e<0&&(p=(Math.ceil(p*-e)+1)/-e))}else g.pop()}for(var y=g.length;g[0]<=d;)g.shift(),--y;for(;g[y-1]>p;)g.pop(),--y;var m,v=new Array(y+1);for(l=0;l<=y;++l)(m=v[l]=[]).x0=l>0?g[l-1]:d,m.x1=l<y?g[l]:p;for(l=0;l<u;++l)null!=(c=f[l])&&d<=c&&c<=p&&v[r(g,c,0,y)].push(i[l]);return v}return l.value=function(t){return arguments.length?(a="function"==typeof t?t:tt(t),l):a},l.domain=function(t){return arguments.length?(o="function"==typeof t?t:tt([t[0],t[1]]),l):o},l.thresholds=function(t){return arguments.length?(s="function"==typeof t?t:Array.isArray(t)?tt(Q.call(t)):tt(t),l):s},l}function rt(t,e,n,r,i){let a,o,s,l,c=e[0],u=r[0],f=0,h=0;u>c==u>-c?(a=c,c=e[++f]):(a=u,u=r[++h]);let d=0;if(f<t&&h<n)for(u>c==u>-c?(o=c+a,s=a-(o-c),c=e[++f]):(o=u+a,s=a-(o-u),u=r[++h]),a=o,0!==s&&(i[d++]=s);f<t&&h<n;)u>c==u>-c?(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=e[++f]):(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=r[++h]),a=o,0!==s&&(i[d++]=s);for(;f<t;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=e[++f],a=o,0!==s&&(i[d++]=s);for(;h<n;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=r[++h],a=o,0!==s&&(i[d++]=s);return 0===a&&0!==d||(i[d++]=a),d}function it(t){return new Float64Array(t)}const at=it(4),ot=it(8),st=it(12),lt=it(16),ct=it(4);function ut(t,e,n,r,i,a){const o=(e-a)*(n-i),s=(t-i)*(r-a),l=o-s;if(0===o||0===s||o>0!=s>0)return l;const c=Math.abs(o+s);return Math.abs(l)>=33306690738754716e-32*c?l:-function(t,e,n,r,i,a,o){let s,l,c,u,f,h,d,p,g,y,m,v,x,$,w,b,_,A;const k=t-i,M=n-i,O=e-a,S=r-a;$=k*S,h=134217729*k,d=h-(h-k),p=k-d,h=134217729*S,g=h-(h-S),y=S-g,w=p*y-($-d*g-p*g-d*y),b=O*M,h=134217729*O,d=h-(h-O),p=O-d,h=134217729*M,g=h-(h-M),y=M-g,_=p*y-(b-d*g-p*g-d*y),m=w-_,f=w-m,at[0]=w-(m+f)+(f-_),v=$+m,f=v-$,x=$-(v-f)+(m-f),m=x-b,f=x-m,at[1]=x-(m+f)+(f-b),A=v+m,f=A-v,at[2]=v-(A-f)+(m-f),at[3]=A;let E=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,at),j=22204460492503146e-32*o;if(E>=j||-E>=j)return E;if(f=t-k,s=t-(k+f)+(f-i),f=n-M,c=n-(M+f)+(f-i),f=e-O,l=e-(O+f)+(f-a),f=r-S,u=r-(S+f)+(f-a),0===s&&0===l&&0===c&&0===u)return E;if(j=11093356479670487e-47*o+33306690738754706e-32*Math.abs(E),E+=k*u+S*s-(O*c+M*l),E>=j||-E>=j)return E;$=s*S,h=134217729*s,d=h-(h-s),p=s-d,h=134217729*S,g=h-(h-S),y=S-g,w=p*y-($-d*g-p*g-d*y),b=l*M,h=134217729*l,d=h-(h-l),p=l-d,h=134217729*M,g=h-(h-M),y=M-g,_=p*y-(b-d*g-p*g-d*y),m=w-_,f=w-m,ct[0]=w-(m+f)+(f-_),v=$+m,f=v-$,x=$-(v-f)+(m-f),m=x-b,f=x-m,ct[1]=x-(m+f)+(f-b),A=v+m,f=A-v,ct[2]=v-(A-f)+(m-f),ct[3]=A;const T=rt(4,at,4,ct,ot);$=k*u,h=134217729*k,d=h-(h-k),p=k-d,h=134217729*u,g=h-(h-u),y=u-g,w=p*y-($-d*g-p*g-d*y),b=O*c,h=134217729*O,d=h-(h-O),p=O-d,h=134217729*c,g=h-(h-c),y=c-g,_=p*y-(b-d*g-p*g-d*y),m=w-_,f=w-m,ct[0]=w-(m+f)+(f-_),v=$+m,f=v-$,x=$-(v-f)+(m-f),m=x-b,f=x-m,ct[1]=x-(m+f)+(f-b),A=v+m,f=A-v,ct[2]=v-(A-f)+(m-f),ct[3]=A;const H=rt(T,ot,4,ct,st);$=s*u,h=134217729*s,d=h-(h-s),p=s-d,h=134217729*u,g=h-(h-u),y=u-g,w=p*y-($-d*g-p*g-d*y),b=l*c,h=134217729*l,d=h-(h-l),p=l-d,h=134217729*c,g=h-(h-c),y=c-g,_=p*y-(b-d*g-p*g-d*y),m=w-_,f=w-m,ct[0]=w-(m+f)+(f-_),v=$+m,f=v-$,x=$-(v-f)+(m-f),m=x-b,f=x-m,ct[1]=x-(m+f)+(f-b),A=v+m,f=A-v,ct[2]=v-(A-f)+(m-f),ct[3]=A;const C=rt(H,st,4,ct,lt);return lt[C-1]}(t,e,n,r,i,a,c)}const ft=Math.pow(2,-52),ht=new Uint32Array(512);class dt{static from(t,e=xt,n=$t){const r=t.length,i=new Float64Array(2*r);for(let a=0;a<r;a++){const r=t[a];i[2*a]=e(r),i[2*a+1]=n(r)}return new dt(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,a=t.length>>1;let o=1/0,s=1/0,l=-1/0,c=-1/0;for(let k=0;k<a;k++){const e=t[2*k],n=t[2*k+1];e<o&&(o=e),n<s&&(s=n),e>l&&(l=e),n>c&&(c=n),this._ids[k]=k}const u=(o+l)/2,f=(s+c)/2;let h,d,p,g=1/0;for(let k=0;k<a;k++){const e=pt(u,f,t[2*k],t[2*k+1]);e<g&&(h=k,g=e)}const y=t[2*h],m=t[2*h+1];g=1/0;for(let k=0;k<a;k++){if(k===h)continue;const e=pt(y,m,t[2*k],t[2*k+1]);e<g&&e>0&&(d=k,g=e)}let v=t[2*d],x=t[2*d+1],$=1/0;for(let k=0;k<a;k++){if(k===h||k===d)continue;const e=yt(y,m,v,x,t[2*k],t[2*k+1]);e<$&&(p=k,$=e)}let w=t[2*p],b=t[2*p+1];if($===1/0){for(let r=0;r<a;r++)this._dists[r]=t[2*r]-t[0]||t[2*r+1]-t[1];mt(this._ids,this._dists,0,a-1);const e=new Uint32Array(a);let n=0;for(let t=0,r=-1/0;t<a;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(ut(y,m,v,x,w,b)<0){const t=d,e=v,n=x;d=p,v=w,x=b,p=t,w=e,b=n}const _=function(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,c=a-e,u=o*o+s*s,f=l*l+c*c,h=.5/(o*c-s*l);return{x:t+(c*u-s*f)*h,y:e+(o*f-l*u)*h}}(y,m,v,x,w,b);this._cx=_.x,this._cy=_.y;for(let k=0;k<a;k++)this._dists[k]=pt(t[2*k],t[2*k+1],_.x,_.y);mt(this._ids,this._dists,0,a-1),this._hullStart=h;let A=3;n[h]=e[p]=d,n[d]=e[h]=p,n[p]=e[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(y,m)]=h,i[this._hashKey(v,x)]=d,i[this._hashKey(w,b)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let k,M,O=0;O<this._ids.length;O++){const a=this._ids[O],o=t[2*a],s=t[2*a+1];if(O>0&&Math.abs(o-k)<=ft&&Math.abs(s-M)<=ft)continue;if(k=o,M=s,a===h||a===d||a===p)continue;let l=0;for(let t=0,e=this._hashKey(o,s);t<this._hashSize&&(l=i[(e+t)%this._hashSize],-1===l||l===n[l]);t++);l=e[l];let c,u=l;for(;c=n[u],ut(o,s,t[2*u],t[2*u+1],t[2*c],t[2*c+1])>=0;)if(u=c,u===l){u=-1;break}if(-1===u)continue;let f=this._addTriangle(u,a,n[u],-1,-1,r[u]);r[a]=this._legalize(f+2),r[u]=f,A++;let g=n[u];for(;c=n[g],ut(o,s,t[2*g],t[2*g+1],t[2*c],t[2*c+1])<0;)f=this._addTriangle(g,a,c,r[a],-1,r[g]),r[a]=this._legalize(f+2),n[g]=g,A--,g=c;if(u===l)for(;c=e[u],ut(o,s,t[2*c],t[2*c+1],t[2*u],t[2*u+1])<0;)f=this._addTriangle(c,a,u,-1,r[u],r[c]),this._legalize(f+2),r[c]=f,n[u]=u,A--,u=c;this._hullStart=e[a]=u,n[u]=e[g]=a,n[a]=g,i[this._hashKey(o,s)]=a,i[this._hashKey(t[2*u],t[2*u+1])]=u}this.hull=new Uint32Array(A);for(let k=0,M=this._hullStart;k<A;k++)this.hull[k]=M,M=n[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,a=0;for(;;){const o=n[t],s=t-t%3;if(a=s+(t+2)%3,-1===o){if(0===i)break;t=ht[--i];continue}const l=o-o%3,c=s+(t+1)%3,u=l+(o+2)%3,f=e[a],h=e[t],d=e[c],p=e[u];if(gt(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[o]=f;const r=n[u];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(o,n[a]),this._link(a,u);const s=l+(o+1)%3;i<ht.length&&(ht[i++]=s)}else{if(0===i)break;t=ht[--i]}}return a}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,a){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=e,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}function pt(t,e,n,r){const i=t-n,a=e-r;return i*i+a*a}function gt(t,e,n,r,i,a,o,s){const l=t-o,c=e-s,u=n-o,f=r-s,h=i-o,d=a-s,p=u*u+f*f,g=h*h+d*d;return l*(f*g-p*d)-c*(u*g-p*h)+(l*l+c*c)*(u*d-f*h)<0}function yt(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,c=a-e,u=o*o+s*s,f=l*l+c*c,h=.5/(o*c-s*l),d=(c*u-s*f)*h,p=(o*f-l*u)*h;return d*d+p*p}function mt(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],a=e[r];let o=i-1;for(;o>=n&&e[t[o]]>a;)t[o+1]=t[o--];t[o+1]=r}else{let i=n+1,a=r;vt(t,n+r>>1,i),e[t[n]]>e[t[r]]&&vt(t,n,r),e[t[i]]>e[t[r]]&&vt(t,i,r),e[t[n]]>e[t[i]]&&vt(t,n,i);const o=t[i],s=e[o];for(;;){do{i++}while(e[t[i]]<s);do{a--}while(e[t[a]]>s);if(a<i)break;vt(t,i,a)}t[n+1]=t[a],t[a]=o,r-i+1>=a-n?(mt(t,e,i,r),mt(t,e,n,a-1)):(mt(t,e,n,a-1),mt(t,e,i,r))}}function vt(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function xt(t){return t[0]}function $t(t){return t[1]}class wt{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class bt{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class _t{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let h,d,p=0,g=0,y=n.length;p<y;p+=3,g+=2){const e=2*n[p],r=2*n[p+1],a=2*n[p+2],o=t[e],s=t[e+1],l=t[r],c=t[r+1],u=t[a],f=t[a+1],y=l-o,m=c-s,v=u-o,x=f-s,$=2*(y*x-m*v);if(Math.abs($)<1e-9){let e=1e9;const r=2*n[0];e*=Math.sign((t[r]-o)*x-(t[r+1]-s)*v),h=(o+u)/2-e*x,d=(s+f)/2+e*v}else{const t=1/$,e=y*y+m*m,n=v*v+x*x;h=o+(x*e-m*n)*t,d=s+(y*n-v*e)*t}i[g]=h,i[g+1]=d}let a,o,s,l=e[e.length-1],c=4*l,u=t[2*l],f=t[2*l+1];r.fill(0);for(let h=0;h<e.length;++h)l=e[h],a=c,o=u,s=f,c=4*l,u=t[2*l],f=t[2*l+1],r[a+2]=r[c]=s-f,r[a+3]=r[c+1]=u-o}render(t){const e=null==t?t=new wt:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:a,vectors:o}=this;if(i.length<=1)return null;for(let c=0,u=n.length;c<u;++c){const e=n[c];if(e<c)continue;const r=2*Math.floor(c/3),i=2*Math.floor(e/3),o=a[r],s=a[r+1],l=a[i],u=a[i+1];this._renderSegment(o,s,l,u,t)}let s,l=i[i.length-1];for(let c=0;c<i.length;++c){s=l,l=i[c];const e=2*Math.floor(r[l]/3),n=a[e],u=a[e+1],f=4*s,h=this._project(n,u,o[f+2],o[f+3]);h&&this._renderSegment(n,u,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new wt:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new wt:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||e.lineTo(r[a],r[a+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new bt;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let a;const o=this._regioncode(t,e),s=this._regioncode(n,r);0===o&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(a=this._clipSegment(t,e,n,r,o,s))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let a=0,o=t.length;a<o;a+=2)if(e[r]==t[a]&&e[r+1]==t[a+1]&&e[(r+2)%i]==t[(a+o-2)%o]&&e[(r+3)%i]==t[(a+o-1)%o]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,a=n[t];if(-1===a)return null;const o=[];let s=a;do{const n=Math.floor(s/3);if(o.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==a&&-1!==s);return o}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,a,o,s=null,l=e[n-2],c=e[n-1],u=this._regioncode(l,c),f=0;for(let h=0;h<n;h+=2)if(r=l,i=c,l=e[h],c=e[h+1],a=u,u=this._regioncode(l,c),0===a&&0===u)o=f,f=0,s?s.push(l,c):s=[l,c];else{let e,n,h,d,p;if(0===a){if(null===(e=this._clipSegment(r,i,l,c,a,u)))continue;[n,h,d,p]=e}else{if(null===(e=this._clipSegment(l,c,r,i,u,a)))continue;[d,p,n,h]=e,o=f,f=this._edgecode(n,h),o&&f&&this._edge(t,o,f,s,s.length),s?s.push(n,h):s=[n,h]}o=f,f=this._edgecode(d,p),o&&f&&this._edge(t,o,f,s,s.length),s?s.push(d,p):s=[d,p]}if(s)o=f,f=this._edgecode(s[0],s[1]),o&&f&&this._edge(t,o,f,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,e,n,r,i,a){for(;;){if(0===i&&0===a)return[t,e,n,r];if(i&a)return null;let o,s,l=i||a;8&l?(o=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&l?(o=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&l?(s=e+(r-e)*(this.xmax-t)/(n-t),o=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),o=this.xmin),i?(t=o,e=s,i=this._regioncode(t,e)):(n=o,r=s,a=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,a){let o,s=Array.from(e);if((o=this._project(s[0],s[1],n,r))&&s.unshift(o[0],o[1]),(o=this._project(s[s.length-2],s[s.length-1],i,a))&&s.push(o[0],o[1]),s=this._clipFinite(t,s))for(let l,c=0,u=s.length,f=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)l=f,f=this._edgecode(s[c],s[c+1]),l&&f&&(c=this._edge(t,l,f,s,c),u=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,a;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,a=this.ymin}r[i]===n&&r[i+1]===a||!this.contains(t,n,a)||(r.splice(i,0,n,a),i+=2)}if(r.length>4)for(let a=0;a<r.length;a+=2){const t=(a+2)%r.length,e=(a+4)%r.length;(r[a]===r[t]&&r[t]===r[e]||r[a+1]===r[t+1]&&r[t+1]===r[e+1])&&(r.splice(t,2),a-=2)}return i}_project(t,e,n,r){let i,a,o,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(o=this.ymin,a=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(o=this.ymax,a=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(a=this.xmax,o=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(a=this.xmin,o=e+(s=i)*r)}return[a,o]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const At=2*Math.PI,kt=Math.pow;function Mt(t){return t[0]}function Ot(t){return t[1]}function St(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Et{static from(t,e=Mt,n=Ot,r){return new Et("length"in t?function(t,e,n,r){const i=t.length,a=new Float64Array(2*i);for(let o=0;o<i;++o){const i=t[o];a[2*o]=e.call(r,i,o,t),a[2*o+1]=n.call(r,i,o,t)}return a}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new dt(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const t=2*e[r],i=2*e[r+1],a=2*e[r+2];if((n[a]-n[t])*(n[i+1]-n[t+1])-(n[i]-n[t])*(n[a+1]-n[t+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let a=0,o=e.length/2;a<o;++a){const t=St(e[2*a],e[2*a+1],i);e[2*a]=t[0],e[2*a+1]=t[1]}this._delaunator=new dt(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let s=0,l=n.length;s<l;++s){const t=i[s%3==2?s-2:s+1];-1!==n[s]&&-1!==a[t]||(a[t]=s)}for(let s=0,l=r.length;s<l;++s)o[r[s]]=s;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,2===r.length&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new _t(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:a,collinear:o}=this;if(o){const e=o.indexOf(t);return e>0&&(yield o[e-1]),void(e<o.length-1&&(yield o[e+1]))}const s=e[t];if(-1===s)return;let l=s,c=-1;do{if(yield c=a[l],l=l%3==2?l-2:l+1,a[l]!==t)return;if(l=i[l],-1===l){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(l!==s)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:a,halfedges:o,triangles:s,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let c=t,u=kt(e-l[2*t],2)+kt(n-l[2*t+1],2);const f=r[t];let h=f;do{let r=s[h];const f=kt(e-l[2*r],2)+kt(n-l[2*r+1],2);if(f<u&&(u=f,c=r),h=h%3==2?h-2:h+1,s[h]!==t)break;if(h=o[h],-1===h){if(h=i[(a[t]+1)%i.length],h!==r&&kt(e-l[2*h],2)+kt(n-l[2*h+1],2)<u)return h;break}}while(h!==f);return c}render(t){const e=null==t?t=new wt:void 0,{points:n,halfedges:r,triangles:i}=this;for(let a=0,o=r.length;a<o;++a){const e=r[a];if(e<a)continue;const o=2*i[a],s=2*i[e];t.moveTo(n[o],n[o+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new wt:void 0,{points:r}=this;for(let i=0,a=r.length;i<a;i+=2){const n=r[i],a=r[i+1];t.moveTo(n+e,a),t.arc(n,a,e,0,At)}return n&&n.value()}renderHull(t){const e=null==t?t=new wt:void 0,{hull:n,points:r}=this,i=2*n[0],a=n.length;t.moveTo(r[i],r[i+1]);for(let o=1;o<a;++o){const e=2*n[o];t.lineTo(r[e],r[e+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new bt;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new wt:void 0,{points:r,triangles:i}=this,a=2*i[t*=3],o=2*i[t+1],s=2*i[t+2];return e.moveTo(r[a],r[a+1]),e.lineTo(r[o],r[o+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new bt;return this.renderTriangle(t,e),e.value()}}function jt(t){return t.innerRadius}function Tt(t){return t.outerRadius}function Ht(t){return t.startAngle}function Ct(t){return t.endAngle}function Dt(t){return t&&t.padAngle}function Pt(t,e,n,r,i,a,s,l){var c=n-t,u=r-e,f=s-i,h=l-a,d=h*c-f*u;if(!(d*d<o))return[t+(d=(f*(e-a)-h*(t-i))/d)*c,e+d*u]}function Wt(t,e,n,r,i,a,o){var s=t-n,l=e-r,c=(o?a:-a)/d(s*s+l*l),u=c*l,f=-c*s,h=t+u,p=e+f,g=n+u,y=r+f,v=(h+g)/2,x=(p+y)/2,$=g-h,w=y-p,b=$*$+w*w,_=i-a,A=h*y-g*p,k=(w<0?-1:1)*d(m(0,_*_*b-A*A)),M=(A*w-$*k)/b,O=(-A*$-w*k)/b,S=(A*w+$*k)/b,E=(-A*$+w*k)/b,j=M-v,T=O-x,H=S-v,C=E-x;return j*j+T*T>H*H+C*C&&(M=S,O=E),{cx:M,cy:O,x01:-u,y01:-f,x11:M*(i/_-1),y11:O*(i/_-1)}}function Ft(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],s=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Lt(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zt(t,e){return t[e]}function Rt(t){const e=[];return e.key=t,e}function It(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function Bt(t){return function(t){var e=t.map(It);return Lt(t).sort((function(t,n){return e[t]-e[n]}))}(t).reverse()}const Ut=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Nt=["January","February","March","April","May","June","July","August","September","October","November","December"],Vt={metric:{[w.Start]:"",[w.Marilyn]:"",[w.NoIssue]:"",[w.JenniferJackson]:"",[w.InesRau]:"",[w.MarshaElle]:"",[w.OtherFirsts]:"",[w.KarenMcDougal]:"",[w.Hefner]:"",[w.Age]:"years",[w.Height]:"cm",[w.Weight]:"kg",[w.Bust]:"cm",[w.Waist]:"cm",[w.Hips]:"cm"},imperial:{[w.Start]:"",[w.Marilyn]:"",[w.NoIssue]:"",[w.JenniferJackson]:"",[w.InesRau]:"",[w.MarshaElle]:"",[w.OtherFirsts]:"",[w.KarenMcDougal]:"",[w.Hefner]:"",[w.Age]:"years",[w.Height]:"ft.in.",[w.Weight]:"lbs",[w.Bust]:"in",[w.Waist]:"in",[w.Hips]:"in"}},Kt=t=>{const e=Math.floor(t/12),n=b(".0f");return e?`${e}'${n(t%12)}"`:`${n(t)}"`};w.Start,w.Marilyn,w.NoIssue,w.JenniferJackson,w.InesRau,w.MarshaElle,w.OtherFirsts,w.KarenMcDougal,w.Hefner;const qt=[w.Age,w.Height,w.Weight,w.Bust,w.Waist,w.Hips],Jt=[w.Hair,w.Enhancements,w.Ethnicity],Yt=({step:t,...e})=>{switch(t){case w.Start:case w.Marilyn:case w.NoIssue:case w.JenniferJackson:case w.InesRau:case w.MarshaElle:case w.OtherFirsts:case w.KarenMcDougal:case w.Hefner:return _`<${A} orientation="top" tickValues=${k(1955,2021,5).map(String)} tickSizeOuter=${0} transitionDuration=${300} ...${e}/>`;case w.Age:case w.Height:case w.Weight:case w.Bust:case w.Waist:case w.Hips:return _`<${A} orientation="top" tickSizeOuter=${0} transitionDuration=${300} ...${e}/>`;default:return null}},Xt=({step:t,units:e,...n})=>{switch(t){case w.Start:case w.Marilyn:case w.NoIssue:case w.JenniferJackson:case w.InesRau:case w.MarshaElle:case w.OtherFirsts:case w.KarenMcDougal:case w.Hefner:return _`<${A} orientation="left" tickFormat=${t=>Ut[t]} transitionDuration=${300} tickSizeOuter=${0} ...${n}/>`;case w.Age:case w.Height:case w.Weight:case w.Bust:case w.Waist:case w.Hips:return _`<g><${A} orientation="left" tickSizeOuter=${0} transitionDuration=${300} ...${n}/>${e&&_`<text y=${n.scale(n.scale.domain()[0])} fill="currentColor" fontSize=${12} dx="6px">${e}</text>`}</g>`;default:return null}};function Gt(t,{delay:e=0,duration:n=750}={}){const r=M();return O((()=>{t&&S(r.current).transition().delay(e).duration(n).attr("opacity",1)}),[t]),r}function Zt({sX:t,step:e}){const{chartHeight:n}=E(),r=Gt(!0);return _`<g transform=${`translate(${t(e===w.Hefner?"2017":new Date(2017,8,27))},0)`} ref=${r} opacity=${0}><line x1=${0} y1=${0} x2=${0} y2=${n} stroke="white"/><text fill="white" fontSize=${11} transform="rotate(90)" dx=${6} dy=${-4}> Hugh Hefner dies Sept 27, 2017 </text></g>`}function Qt({data:t,r:e,transitionDuration:n,...r}){const i=M(null);return O((()=>{if(!i.current)return;const r=j().duration(n);S(i.current).selectAll("circle").data(t,(t=>t.datum.name)).join((t=>t.append("circle").attr("opacity",0).attr("fill",(t=>t.fill)).attr("cx",(t=>t.cx)).attr("cy",(t=>{return e=function(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],a=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=a(n)):"call"!==i&&"optionalCall"!==i||(n=a(((...t)=>n.call(e,...t))),e=void 0)}return n}([t,"optionalAccess",t=>t.cy]),n=()=>0,null!=e?e:n();var e,n})).attr("r",e).attr("data-playmate",(t=>`${t.datum.name}-${t.datum.year}-${t.datum.month}`)).attr("stroke-width",4).attr("stroke","none").call((t=>t.transition(r).attr("opacity",1)))),(t=>t.call((t=>t.transition(r).attr("cx",(t=>t.cx)).attr("cy",(t=>t.cy)).attr("fill",(t=>t.fill)).attr("opacity",1)))),(t=>t.call((t=>t.transition(r).attr("opacity",0).remove()))))})),O((()=>{const t=t=>{if(S(i.current).selectAll("circle").select((function(){return"none"!==this.attributes.stroke.value?this:null})).attr("stroke","none"),!t.detail)return;const e=`${t.detail.name}-${t.detail.year}-${t.detail.month}`;S(i.current).select(`[data-playmate="${e}"]`).attr("stroke","white")};return window.addEventListener("playmateCircleHover",t),()=>{window.removeEventListener("playmateCircleHover",t)}}),[]),_`<g ref=${i} ...${r}/>`}function te({value:t}){const e=Gt(!0),{chartWidth:n}=E();return _`<g transform=${`translate(0,${t})`} color="rgb(237, 201, 73)" ref=${e} opacity=${0}><line x1=${0} x2=${n} fill="none" stroke="currentColor" strokeWidth=${2} strokeOpacity=${.7} strokeDasharray="5 5"/><text fill="currentColor" fontSize=${12} dy=${4} dominantBaseline="hanging" textAnchor="end" x=${n}> Average for US Women 20-29 between 2015-2018 </text></g>`}T(),T();var ee=function(t){return t.reduce((function(t,e){var n=e[0],r=e[1];return t[n]=r,t}),{})},ne="undefined"!=typeof window&&window.document&&window.document.createElement?H:O,re="top",ie="bottom",ae="right",oe="left",se=[re,ie,ae,oe],le=se.reduce((function(t,e){return t.concat([e+"-start",e+"-end"])}),[]),ce=[].concat(se,["auto"]).reduce((function(t,e){return t.concat([e,e+"-start",e+"-end"])}),[]),ue=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fe(t){return t?(t.nodeName||"").toLowerCase():null}function he(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function de(t){return t instanceof he(t).Element||t instanceof Element}function pe(t){return t instanceof he(t).HTMLElement||t instanceof HTMLElement}function ge(t){return"undefined"!=typeof ShadowRoot&&(t instanceof he(t).ShadowRoot||t instanceof ShadowRoot)}const ye={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];pe(i)&&fe(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});pe(r)&&fe(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};function me(t){return t.split("-")[0]}var ve=Math.max,xe=Math.min,$e=Math.round;function we(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(pe(t)&&e){var a=t.offsetHeight,o=t.offsetWidth;o>0&&(r=$e(n.width)/o||1),a>0&&(i=$e(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function be(t){var e=we(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function _e(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ge(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ae(t){return he(t).getComputedStyle(t)}function ke(t){return["table","td","th"].indexOf(fe(t))>=0}function Me(t){return((de(t)?t.ownerDocument:t.document)||window.document).documentElement}function Oe(t){return"html"===fe(t)?t:t.assignedSlot||t.parentNode||(ge(t)?t.host:null)||Me(t)}function Se(t){return pe(t)&&"fixed"!==Ae(t).position?t.offsetParent:null}function Ee(t){for(var e=he(t),n=Se(t);n&&ke(n)&&"static"===Ae(n).position;)n=Se(n);return n&&("html"===fe(n)||"body"===fe(n)&&"static"===Ae(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&pe(t)&&"fixed"===Ae(t).position)return null;for(var n=Oe(t);pe(n)&&["html","body"].indexOf(fe(n))<0;){var r=Ae(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}function je(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Te(t,e,n){return ve(t,xe(e,n))}function He(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Ce(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function De(t){return t.split("-")[1]}var Pe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function We(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=!0===u?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:$e(e*r)/r||0,y:$e(n*r)/r||0}}(o):"function"==typeof u?u(o):o,d=h.x,p=void 0===d?0:d,g=h.y,y=void 0===g?0:g,m=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),x=oe,$=re,w=window;if(c){var b=Ee(n),_="clientHeight",A="clientWidth";if(b===he(n)&&"static"!==Ae(b=Me(n)).position&&"absolute"===s&&(_="scrollHeight",A="scrollWidth"),b=b,i===re||(i===oe||i===ae)&&"end"===a)$=ie,y-=(f&&w.visualViewport?w.visualViewport.height:b[_])-r.height,y*=l?1:-1;if(i===oe||(i===re||i===ie)&&"end"===a)x=ae,p-=(f&&w.visualViewport?w.visualViewport.width:b[A])-r.width,p*=l?1:-1}var k,M=Object.assign({position:s},c&&Pe);return l?Object.assign({},M,((k={})[$]=v?"0":"",k[x]=m?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",k)):Object.assign({},M,((e={})[$]=v?y+"px":"",e[x]=m?p+"px":"",e.transform="",e))}var Fe={passive:!0};var Le={left:"right",right:"left",bottom:"top",top:"bottom"};function ze(t){return t.replace(/left|right|bottom|top/g,(function(t){return Le[t]}))}var Re={start:"end",end:"start"};function Ie(t){return t.replace(/start|end/g,(function(t){return Re[t]}))}function Be(t){var e=he(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ue(t){return we(Me(t)).left+Be(t).scrollLeft}function Ne(t){var e=Ae(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ve(t){return["html","body","#document"].indexOf(fe(t))>=0?t.ownerDocument.body:pe(t)&&Ne(t)?t:Ve(Oe(t))}function Ke(t,e){var n;void 0===e&&(e=[]);var r=Ve(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),a=he(r),o=i?[a].concat(a.visualViewport||[],Ne(r)?r:[]):r,s=e.concat(o);return i?s:s.concat(Ke(Oe(o)))}function qe(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Je(t,e){return"viewport"===e?qe(function(t){var e=he(t),n=Me(t),r=e.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+Ue(t),y:s}}(t)):de(e)?function(t){var e=we(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):qe(function(t){var e,n=Me(t),r=Be(t),i=null==(e=t.ownerDocument)?void 0:e.body,a=ve(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ve(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Ue(t),l=-r.scrollTop;return"rtl"===Ae(i||n).direction&&(s+=ve(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}(Me(t)))}function Ye(t,e,n){var r="clippingParents"===e?function(t){var e=Ke(Oe(t)),n=["absolute","fixed"].indexOf(Ae(t).position)>=0,r=n&&pe(t)?Ee(t):t;return de(r)?e.filter((function(t){return de(t)&&_e(t,r)&&"body"!==fe(t)&&(!n||"static"!==Ae(t).position)})):[]}(t):[].concat(e),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(e,n){var r=Je(t,n);return e.top=ve(r.top,e.top),e.right=xe(r.right,e.right),e.bottom=xe(r.bottom,e.bottom),e.left=ve(r.left,e.left),e}),Je(t,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Xe(t){var e,n=t.reference,r=t.element,i=t.placement,a=i?me(i):null,o=i?De(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case re:e={x:s,y:n.y-r.height};break;case ie:e={x:s,y:n.y+n.height};break;case ae:e={x:n.x+n.width,y:l};break;case oe:e={x:n.x-r.width,y:l};break;default:e={x:n.x,y:n.y}}var c=a?je(a):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case"start":e[c]=e[c]-(n[u]/2-r[u]/2);break;case"end":e[c]=e[c]+(n[u]/2-r[u]/2)}}return e}function Ge(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,s=n.rootBoundary,l=void 0===s?"viewport":s,c=n.elementContext,u=void 0===c?"popper":c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,g=He("number"!=typeof p?p:Ce(p,se)),y="popper"===u?"reference":"popper",m=t.rects.popper,v=t.elements[h?y:u],x=Ye(de(v)?v:v.contextElement||Me(t.elements.popper),o,l),$=we(t.elements.reference),w=Xe({reference:$,element:m,strategy:"absolute",placement:i}),b=qe(Object.assign({},m,w)),_="popper"===u?b:$,A={top:x.top-_.top+g.top,bottom:_.bottom-x.bottom+g.bottom,left:x.left-_.left+g.left,right:_.right-x.right+g.right},k=t.modifiersData.offset;if("popper"===u&&k){var M=k[i];Object.keys(A).forEach((function(t){var e=[ae,ie].indexOf(t)>=0?1:-1,n=[re,ie].indexOf(t)>=0?"y":"x";A[t]+=M[n]*e}))}return A}function Ze(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ce:l,u=De(r),f=u?s?le:le.filter((function(t){return De(t)===u})):se,h=f.filter((function(t){return c.indexOf(t)>=0}));0===h.length&&(h=f);var d=h.reduce((function(e,n){return e[n]=Ge(t,{placement:n,boundary:i,rootBoundary:a,padding:o})[me(n)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}function Qe(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function tn(t){return[re,ae,ie,oe].some((function(e){return t[e]>=0}))}function en(t,e,n){void 0===n&&(n=!1);var r,i,a=pe(e),o=pe(e)&&function(t){var e=t.getBoundingClientRect(),n=$e(e.width)/t.offsetWidth||1,r=$e(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),s=Me(e),l=we(t,o),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(a||!a&&!n)&&(("body"!==fe(e)||Ne(s))&&(c=(r=e)!==he(r)&&pe(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:Be(r)),pe(e)?((u=we(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=Ue(s))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function nn(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}var rn={placement:"bottom",modifiers:[],strategy:"absolute"};function an(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function on(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,a=void 0===i?rn:i;return function(t,e,n){void 0===n&&(n=a);var i,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},rn,a),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,u={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;f(),s.options=Object.assign({},a,s.options,i),s.scrollParents={reference:de(t)?Ke(t):t.contextElement?Ke(t.contextElement):[],popper:Ke(e)};var o,c,h=function(t){var e=nn(t);return ue.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((o=[].concat(r,s.options.modifiers),c=o.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return s.orderedModifiers=h.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var a=i({state:s,name:e,instance:u,options:r}),o=function(){};l.push(a||o)}})),u.update()},forceUpdate:function(){if(!c){var t=s.elements,e=t.reference,n=t.popper;if(an(e,n)){s.rects={reference:en(e,Ee(n),"fixed"===s.options.strategy),popper:be(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],a=i.fn,o=i.options,l=void 0===o?{}:o,f=i.name;"function"==typeof a&&(s=a({state:s,options:l,name:f,instance:u})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(t){u.forceUpdate(),t(s)}))},function(){return o||(o=new Promise((function(t){Promise.resolve().then((function(){o=void 0,t(i())}))}))),o}),destroy:function(){f(),c=!0}};if(!an(t,e))return u;function f(){l.forEach((function(t){return t()})),l=[]}return u.setOptions(n).then((function(t){!c&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var sn=on({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,l=he(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach((function(t){t.addEventListener("scroll",n.update,Fe)})),s&&l.addEventListener("resize",n.update,Fe),function(){a&&c.forEach((function(t){t.removeEventListener("scroll",n.update,Fe)})),s&&l.removeEventListener("resize",n.update,Fe)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Xe({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,c={placement:me(e.placement),variation:De(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,We(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,We(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},ye,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,a=void 0===i?[0,0]:i,o=ce.reduce((function(t,n){return t[n]=function(t,e,n){var r=me(t),i=[oe,re].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},e,{placement:t})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[oe,ae].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,e.rects,a),t}),{}),s=o[e.placement],l=s.x,c=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,g=n.allowedAutoPlacements,y=e.options.placement,m=me(y),v=l||(m===y||!p?[ze(y)]:function(t){if("auto"===me(t))return[];var e=ze(t);return[Ie(t),e,Ie(e)]}(y)),x=[y].concat(v).reduce((function(t,n){return t.concat("auto"===me(n)?Ze(e,{placement:n,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),$=e.rects.reference,w=e.rects.popper,b=new Map,_=!0,A=x[0],k=0;k<x.length;k++){var M=x[k],O=me(M),S="start"===De(M),E=[re,ie].indexOf(O)>=0,j=E?"width":"height",T=Ge(e,{placement:M,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),H=E?S?ae:oe:S?ie:re;$[j]>w[j]&&(H=ze(H));var C=ze(H),D=[];if(a&&D.push(T[O]<=0),s&&D.push(T[H]<=0,T[C]<=0),D.every((function(t){return t}))){A=M,_=!1;break}b.set(M,D)}if(_)for(var P=function(t){var e=x.find((function(e){var n=b.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return A=e,"break"},W=p?3:1;W>0;W--){if("break"===P(W))break}e.placement!==A&&(e.modifiersData[r]._skip=!0,e.placement=A,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,g=void 0===p?0:p,y=Ge(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),m=me(e.placement),v=De(e.placement),x=!v,$=je(m),w="x"===$?"y":"x",b=e.modifiersData.popperOffsets,_=e.rects.reference,A=e.rects.popper,k="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,M="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(b){if(a){var E,j="y"===$?re:oe,T="y"===$?ie:ae,H="y"===$?"height":"width",C=b[$],D=C+y[j],P=C-y[T],W=d?-A[H]/2:0,F="start"===v?_[H]:A[H],L="start"===v?-A[H]:-_[H],z=e.elements.arrow,R=d&&z?be(z):{width:0,height:0},I=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=I[j],U=I[T],N=Te(0,_[H],R[H]),V=x?_[H]/2-W-N-B-M.mainAxis:F-N-B-M.mainAxis,K=x?-_[H]/2+W+N+U+M.mainAxis:L+N+U+M.mainAxis,q=e.elements.arrow&&Ee(e.elements.arrow),J=q?"y"===$?q.clientTop||0:q.clientLeft||0:0,Y=null!=(E=null==O?void 0:O[$])?E:0,X=C+K-Y,G=Te(d?xe(D,C+V-Y-J):D,C,d?ve(P,X):P);b[$]=G,S[$]=G-C}if(s){var Z,Q="x"===$?re:oe,tt="x"===$?ie:ae,et=b[w],nt="y"===w?"height":"width",rt=et+y[Q],it=et-y[tt],at=-1!==[re,oe].indexOf(m),ot=null!=(Z=null==O?void 0:O[w])?Z:0,st=at?rt:et-_[nt]-A[nt]-ot+M.altAxis,lt=at?et+_[nt]+A[nt]-ot-M.altAxis:it,ct=d&&at?function(t,e,n){var r=Te(t,e,n);return r>n?n:r}(st,et,lt):Te(d?st:rt,et,d?lt:it);b[w]=ct,S[w]=ct-et}e.modifiersData[r]=S}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=me(n.placement),l=je(s),c=[oe,ae].indexOf(s)>=0?"height":"width";if(a&&o){var u=function(t,e){return He("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Ce(t,se))}(i.padding,n),f=be(a),h="y"===l?re:oe,d="y"===l?ie:ae,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],g=o[l]-n.rects.reference[l],y=Ee(a),m=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,v=p/2-g/2,x=u[h],$=m-f[c]-u[d],w=m/2-f[c]/2+v,b=Te(x,w,$),_=l;n.modifiersData[r]=((e={})[_]=b,e.centerOffset=b-w,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&_e(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=Ge(e,{elementContext:"reference"}),s=Ge(e,{altBoundary:!0}),l=Qe(o,r),c=Qe(s,i,a),u=tn(l),f=tn(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}}]}),ln={exports:{}},cn="undefined"!=typeof Element,un="function"==typeof Map,fn="function"==typeof Set,hn="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function dn(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var n,r,i,a;if(Array.isArray(t)){if((n=t.length)!=e.length)return!1;for(r=n;0!=r--;)if(!dn(t[r],e[r]))return!1;return!0}if(un&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=t.entries();!(r=a.next()).done;)if(!dn(r.value[1],e.get(r.value[0])))return!1;return!0}if(fn&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(hn&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if((n=t.length)!=e.length)return!1;for(r=n;0!=r--;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(cn&&t instanceof Element)return!1;for(r=n;0!=r--;)if(("_owner"!==i[r]&&"__v"!==i[r]&&"__o"!==i[r]||!t.$$typeof)&&!dn(t[i[r]],e[i[r]]))return!1;return!0}return t!=t&&e!=e}ln.exports=function(t,e){try{return dn(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const pn=ln.exports;var gn=[];const yn=t=>{const e=L.map((e=>+e[t]));return nt().domain(n(e))(e)},mn={mateAge:yn("mateAge"),heightCM:yn("heightCM"),weightKG:yn("weightKG"),bustCM:yn("bustCM"),waistCM:yn("waistCM"),hipsCM:yn("hipsCM")};function vn({pm:t,hkey:e}){const r=E(),i=mn[e],a=W().domain([i[0].x0,i[i.length-1].x1]).range([0,r.chartWidth]),o=W().domain(n(i,(t=>t.length))).range([r.chartHeight,0]);return _`<g>${i.map((t=>_`<rect key=${`${t.x0}-${t.x1}`} x=${a(t.x0)} width=${a(t.x1)-a(t.x0)} y=${o(t.length)} height=${Math.max(1,r.chartHeight-o(t.length))} fill=${F[0]}/>`))}</g><line x1=${a(t[e])} x2=${a(t[e])} y=${0} y2=${r.chartHeight} stroke=${F[1]} strokeWidth=${3}/>`}function xn({pm:t,hkey:e}){return _`<div style=${{width:"100%",height:"20px",display:"flex",justifyContent:"center"}}><${P} width=${110} height=${20} margin=${3}><${vn} pm=${t} hkey=${e}/><//></div>`}function $n({data:t,pinned:e}){const n="metric"===z((t=>t.units)),r=["Diane Hunter","Elizabeth Ann Roberts","Nancy Crawford","Teddi Smith","Donna Michelle","Patti Reynolds","Gina Goldberg"].includes(t.name);return _`<div style=${{background:"rgba(0,0,0,0.75)",padding:"0.25rem",borderRadius:"5px",maxWidth:"14rem"}} data-playmatetooltip><div style=${{textAlign:"center",fontSize:"1.1rem",fontWeight:600}}>${r?"N/A":t.name}</div><div style=${{fontSize:"0.9rem",textAlign:"center"}}>${Nt[t.month]} ${t.year}</div>${t.first&&_`<div style=${{fontSize:"0.8rem",fontStyle:"italic",textAlign:"center"}}>${t.first}</div>`}${!e&&_`<div style=${{fontSize:"0.7rem",textAlign:"center"}}> click for more info </div>`}${e&&_`<div style=${{fontSize:"0.7rem",textAlign:"center"}}> click elswhere to close </div><div style=${{padding:"0.25rem",fontSize:"0.9rem"}}><${wn} label="Age" value=${t.mateAge}/><${wn} label="Ethnicity" value=${R[t.ethnicity]}/><${wn} label="Hair" value=${I[t.hair]}/><${wn} label="Breasts" value=${B[t.breasts]}/><${wn} label="Height" value=${n?t.heightCM:Kt(U(t.heightCM))} units=${n?"cm":""}/><${xn} pm=${t} hkey="heightCM"/><${wn} label="Weight" value=${n?t.weightKG:N(t.weightKG).toFixed(0)} units=${n?"kg":"lb"}/><${xn} pm=${t} hkey="weightKG"/><${wn} label="Bust" value=${n?t.bustCM:U(t.bustCM).toFixed(0)} units=${n?"cm":"in"}/><${xn} pm=${t} hkey="bustCM"/><${wn} label="Waist" value=${n?t.waistCM:U(t.waistCM).toFixed(0)} units=${n?"cm":"in"}/><${xn} pm=${t} hkey="waistCM"/><${wn} label="Hips" value=${n?t.hipsCM:U(t.hipsCM).toFixed(0)} units=${n?"cm":"in"}/><${xn} pm=${t} hkey="hipsCM"/></div>`}</div>`}function wn({label:t,value:e,units:n=""}){return _`<div><strong>${t}: </strong><span>${e} ${n}</span></div>`}function bn(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],a=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=a(n)):"call"!==i&&"optionalCall"!==i||(n=a(((...t)=>n.call(e,...t))),e=void 0)}return n}function _n({data:t,step:e}){const n=E(),[r,i]=C(null),[a,o]=C(null),{styles:s,attributes:l,forceUpdate:c}=function(t,e,n){void 0===n&&(n={});var r=M(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||gn},a=C({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=a[0],s=a[1],l=D((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(t){var e=t.state,n=Object.keys(e.elements);s({styles:ee(n.map((function(t){return[t,e.styles[t]||{}]}))),attributes:ee(n.map((function(t){return[t,e.attributes[t]]})))})},requires:["computeStyles"]}}),[]),c=D((function(){var t={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[l,{name:"applyStyles",enabled:!1}])};return pn(r.current,t)?r.current||t:(r.current=t,t)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,l]),u=M();return ne((function(){u.current&&u.current.setOptions(c)}),[c]),ne((function(){if(null!=t&&null!=e){var r=(n.createPopper||sn)(t,e,c);return u.current=r,function(){r.destroy(),u.current=null}}}),[t,e,n.createPopper]),{state:u.current?u.current.state:null,styles:o.styles,attributes:o.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}}(bn([r,"optionalAccess",t=>t.reference]),a,{placement:"top",modifiers:[{name:"offset",options:{offset:[0,8]}}]}),[u,f]=C(!1),[h,d]=C(Et.from(t.map((t=>[t.cx,t.cy]))));O((()=>{d(Et.from(t.map((t=>[t.cx,t.cy])))),f(!1),i(null)}),[e,n]);const p=M(null);return O((()=>{const t=t=>{if(!p.current||p.current.contains(t.target))return;const e=document.querySelector("div[data-playmatetooltip]");u&&!bn([e,"optionalAccess",t=>t.contains,"call",e=>e(t.target)])&&(f(!1),i(null))};return window.addEventListener("click",t,{capture:!0}),()=>{window.removeEventListener("click",t,{capture:!0})}}),[f,i,u,p.current]),O((()=>{window.dispatchEvent(new CustomEvent("playmateCircleHover",{detail:bn([r,"optionalAccess",t=>t.data])}))}),[r]),O((()=>{u&&c()}),[u]),_`<g><rect ref=${p} x=${0-n.margin.left} y=${0-n.margin.top} width=${n.chartWidth+n.margin.left+n.margin.right} height=${n.chartHeight+n.margin.top+n.margin.bottom} onMouseMove=${e=>{if(u)return;const[n,a]=function(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}(e),o=h.find(n,a),s=t[o];Math.sqrt(Math.pow(n-s.cx,2)+Math.pow(a-s.cy,2))>50?i(null):bn([r,"optionalAccess",t=>t.data,"access",t=>t.name])!==s.datum.name&&i({data:s.datum,reference:document.querySelector(`[data-playmate="${s.datum.name}-${s.datum.year}-${s.datum.month}"]`)})}} onMouseLeave=${()=>{u||i(null)}} onClick=${t=>{null!==r&&(u&&(i(null),f(!1)),u||f(!0))}} fill="transparent" pointerEvents="all"/>${r&&V(_`<div ref=${o} style=${{...s.popper,pointerEvents:u?"auto":"none",zIndex:2}} ...${l.popper}><${$n} data=${r.data} pinned=${u}/></div>`,document.querySelector("body"))}</g>`}function An({data:t,transitionDuration:e,...n}){const r=M(null),i=t.reduce(((t,e)=>t+e.children.length),0);return O((()=>{if(!r.current)return;const n=j().duration(e);S(r.current).selectAll("circle").data(t).join((t=>t.append("circle").attr("cx",(t=>t.cx)).attr("cy",(t=>t.cy)).attr("r",0).attr("opacity",1).attr("stroke",(t=>t.stroke)).attr("stroke-width",3).attr("fill","transparent").call((t=>t.transition(n).attr("r",(t=>t.r))))),(t=>t.call((t=>t.transition(n).attr("cx",(t=>t.cx)).attr("cy",(t=>t.cy)).attr("r",(t=>t.r)).attr("stroke",(t=>t.stroke))))),(t=>t.call((t=>t.transition(n).attr("opacity",0).remove()))));const m=function(){var t=jt,e=Tt,n=g(0),r=null,i=Ht,m=Ct,$=Dt,w=null;function b(){var g,b,_=+t.apply(this,arguments),A=+e.apply(this,arguments),k=i.apply(this,arguments)-a,M=m.apply(this,arguments)-a,O=f(M-k),S=M>k;if(w||(w=g=y()),A<_&&(b=A,A=_,_=b),A>o)if(O>s-o)w.moveTo(A*l(k),A*c(k)),w.arc(0,0,A,k,M,!S),_>o&&(w.moveTo(_*l(M),_*c(M)),w.arc(0,0,_,M,k,S));else{var E,j,T=k,H=M,C=k,D=M,P=O,W=O,F=$.apply(this,arguments)/2,L=F>o&&(r?+r.apply(this,arguments):d(_*_+A*A)),z=u(f(A-_)/2,+n.apply(this,arguments)),R=z,I=z;if(L>o){var B=v(L/_*c(F)),U=v(L/A*c(F));(P-=2*B)>o?(C+=B*=S?1:-1,D-=B):(P=0,C=D=(k+M)/2),(W-=2*U)>o?(T+=U*=S?1:-1,H-=U):(W=0,T=H=(k+M)/2)}var N=A*l(T),V=A*c(T),K=_*l(D),q=_*c(D);if(z>o){var J,Y=A*l(H),X=A*c(H),G=_*l(C),Z=_*c(C);if(O<h&&(J=Pt(N,V,G,Z,Y,X,K,q))){var Q=N-J[0],tt=V-J[1],et=Y-J[0],nt=X-J[1],rt=1/c(x((Q*et+tt*nt)/(d(Q*Q+tt*tt)*d(et*et+nt*nt)))/2),it=d(J[0]*J[0]+J[1]*J[1]);R=u(z,(_-it)/(rt-1)),I=u(z,(A-it)/(rt+1))}}W>o?I>o?(E=Wt(G,Z,N,V,A,I,S),j=Wt(Y,X,K,q,A,I,S),w.moveTo(E.cx+E.x01,E.cy+E.y01),I<z?w.arc(E.cx,E.cy,I,p(E.y01,E.x01),p(j.y01,j.x01),!S):(w.arc(E.cx,E.cy,I,p(E.y01,E.x01),p(E.y11,E.x11),!S),w.arc(0,0,A,p(E.cy+E.y11,E.cx+E.x11),p(j.cy+j.y11,j.cx+j.x11),!S),w.arc(j.cx,j.cy,I,p(j.y11,j.x11),p(j.y01,j.x01),!S))):(w.moveTo(N,V),w.arc(0,0,A,T,H,!S)):w.moveTo(N,V),_>o&&P>o?R>o?(E=Wt(K,q,Y,X,_,-R,S),j=Wt(N,V,G,Z,_,-R,S),w.lineTo(E.cx+E.x01,E.cy+E.y01),R<z?w.arc(E.cx,E.cy,R,p(E.y01,E.x01),p(j.y01,j.x01),!S):(w.arc(E.cx,E.cy,R,p(E.y01,E.x01),p(E.y11,E.x11),!S),w.arc(0,0,_,p(E.cy+E.y11,E.cx+E.x11),p(j.cy+j.y11,j.cx+j.x11),S),w.arc(j.cx,j.cy,R,p(j.y11,j.x11),p(j.y01,j.x01),!S))):w.arc(0,0,_,D,C,S):w.lineTo(K,q)}else w.moveTo(0,0);if(w.closePath(),g)return w=null,g+""||null}return b.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +m.apply(this,arguments))/2-h/2;return[l(r)*n,c(r)*n]},b.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:g(+e),b):t},b.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:g(+t),b):e},b.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:g(+t),b):n},b.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:g(+t),b):r},b.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:g(+t),b):i},b.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:g(+t),b):m},b.padAngle=function(t){return arguments.length?($="function"==typeof t?t:g(+t),b):$},b.context=function(t){return arguments.length?(w=null==t?null:t,b):w},b}().innerRadius((t=>+t.r-2)).outerRadius((t=>+t.r+16)).startAngle(0).endAngle((t=>10*(t.data[0].length+4)/(t.r+6*Math.PI)));S(r.current).selectAll("path").data(t).join((t=>t.append("path").attr("d",m).attr("fill",(t=>t.stroke)).attr("fill-opacity",.4).attr("stroke",(t=>t.stroke)).attr("stroke-opacity",.4).attr("transform",(t=>`translate(${t.cx},${t.cy})`)).attr("opacity",0).attr("id",(t=>`arc-${t.data[0]}-${t.data[1].length}`)).call((t=>t.transition().delay(e).duration(e).attr("opacity",1)))),(t=>t.call((t=>t.attr("opacity",0).attr("d",m).attr("transform",(t=>`translate(${t.cx},${t.cy})`)).attr("stroke",(t=>t.stroke)).attr("fill",(t=>t.stroke)).attr("id",(t=>`arc-${t.data[0]}-${t.data[1].length}`)).transition().delay(e).duration(e).attr("opacity",1)))),(t=>t.call((t=>t.transition(n).attr("opacity",0).remove())))),S(r.current).selectAll("text").data(t).join((t=>t.append("text").attr("dy",0).attr("dx",4).attr("opacity",0).call((t=>t.transition().delay(e).duration(e).attr("opacity",1))).append("textPath").attr("xlink:href",(t=>`#arc-${t.data[0]}-${t.data[1].length}`)).attr("dominant-baseline","hanging").attr("font-size",14).attr("fill","white").attr("letter-spacing",2).text((t=>`${t.data[0]} ${b(".0%")(t.children.length/i)}`)).attr("id",(t=>`label-${t.data[0]}-${t.data[1].length}`)).attr("data-length",(function(){return this.getComputedTextLength()})).attr("spacing","auto")),(t=>(t.attr("opacity",0).transition().delay(e).duration(e).attr("opacity",1),t.select("textPath").attr("xlink:href",(t=>`#arc-${t.data[0]}-${t.data[1].length}`)).text((t=>`${t.data[0]} ${b(".0%")(t.children.length/i)}`)).attr("id",(t=>`label-${t.data[0]}-${t.data[1].length}`)),t)))})),_`<g ref=${r} ...${n} className="wtf"/>`}function kn(t,e){return null!=t?t:e()}function Mn({width:t,height:e,colorScale:n,accessor:r,...i}){const a=k(1953,2021).map((t=>{const e=Object.fromEntries(K(L.filter((e=>e.year===t)),(t=>kn(r(t),(()=>null)))));return{year:t,...e}})),o=function(){var t=g([]),e=Lt,n=Ft,r=zt;function i(i){var a,o,s=Array.from(t.apply(this,arguments),Rt),l=s.length,c=-1;for(const t of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(t,s[a].key,c,i)]).data=t;for(a=0,o=$(e(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:g(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:g(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?Lt:"function"==typeof t?t:g(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?Ft:t,i):n},i}().order(Bt).keys(n.domain()).value(((t,e)=>{const n=Object.keys(t).filter((t=>"year"!==t)).reduce(((e,n)=>e+t[n].length),0);return kn(function(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],a=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=a(n)):"call"!==i&&"optionalCall"!==i||(n=a(((...t)=>n.call(e,...t))),e=void 0)}return n}([t,"access",t=>t[e],"optionalAccess",t=>t.length]),(()=>0))/n}))(a),s=W().domain([0,1]).range([e-10,0]),l=q().domain(a.map((t=>t.year.toString()))).range([0,t]).padding(.1),c=M(null);return O((()=>{c.current&&S(c.current).selectAll("g").data(o,(t=>t.key)).join("g").attr("fill",(t=>n(t.key))).selectAll("rect").data((t=>t),(t=>t.key)).join((t=>t.append("rect").attr("x",(t=>l(t.data.year.toString()))).attr("width",(t=>l.bandwidth())).attr("y",s(s.domain()[0])).attr("height",0).transition().duration(750).delay(((t,e)=>25*e)).attr("y",(t=>s(t[1]))).attr("height",(t=>s(t[0])-s(t[1])))))}),[t,e,n,r]),_`<g ...${i}><${A} scale=${s} orientation="left" tickFormat=${b(".0%")} transitionDuration=${300}/><${A} scale=${l} orientation="bottom" tickValues=${k(1955,2021,5).map(String)} transform=${`translate(0,${e-10})`} transitionDuration=${300}/><g ref=${c}/></g>`}const On=Z((()=>import("./LOESS.8e1d1e1c.js")));function Sn({step:t}){const{chartHeight:e,chartWidth:n}=E(),{scales:r,data:i,accessors:a}=J(t),o=z((t=>t.units)),s=Y(),l=M();return O((()=>{t===w.Age&&S(l.current).transition().delay(1500).duration(750).attr("fill-opacity",.2)}),[t]),_`<${X}>${!Jt.includes(t)&&_`<${X}><${Yt} scale=${r.sX} step=${t}/><${Yt} scale=${r.sX} step=${t} tickSizeInner=${-e} tickFormat=${()=>""} opacity=${.2}/><${Xt} scale=${r.sY} step=${t} units=${Vt[o][t]} ...${t!==w.Height||s?{}:{tickFormat:Kt}}/><${Xt} scale=${r.sY} step=${t} tickSizeInner=${-n} tickFormat=${()=>""} opacity=${.2}/><//>`}${[w.Hefner,...qt].includes(t)&&_`<${Zt} step=${t} sX=${r.sX}/>`}${t===w.Age&&_`<rect ref=${l} x=${0} y=${r.sY(18)} width=${n} height=${e-r.sY(18)} fill="red" fillOpacity=${0}/>`}${t===w.Height&&_`<${te} value=${r.sY(s?162.6:64)}/>`}${t===w.Weight&&_`<${te} value=${r.sY(s?74.9:165)}/>`}${qt.includes(t)&&_`<${G} fallback=${null}><${On} sX=${r.sX} sY=${r.sY} step=${t}/><//>`}${Jt.includes(t)&&_`<${X}><${An} data=${r.extras.map((t=>({...t,cx:t.x,cy:t.y,stroke:r.sC(t.data[0].toString())})))} transitionDuration=${750}/><${Mn} width=${n/2-40} height=${Math.min(n/2/1.6,e)} accessor=${a.cA} colorScale=${r.sC} transform=${`translate(${n/2+20},${(e-Math.min(n/2/1.6,e))/2})`}/><//>`}<${Qt} data=${i} r=${3} transitionDuration=${750}/><${_n} data=${i} step=${t}/><//>`}export default Sn;